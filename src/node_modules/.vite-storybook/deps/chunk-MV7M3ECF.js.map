{
  "version": 3,
  "sources": ["../../../../node_modules/core-js/modules/es.object.from-entries.js", "../../../../node_modules/@storybook/channel-postmessage/dist/esm/index.js"],
  "sourcesContent": ["var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, { AS_ENTRIES: true });\n    return obj;\n  }\n});\n", "function _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.from-entries.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.number.is-integer.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.object.values.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.from.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport global from 'global';\nimport * as EVENTS from '@storybook/core-events';\nimport Channel from '@storybook/channels';\nimport { logger, pretty } from '@storybook/client-logger';\nimport { isJSON, parse, stringify } from 'telejson';\nimport qs from 'qs';\nvar globalWindow = global.window,\n    document = global.document,\n    location = global.location;\nexport var KEY = 'storybook-channel';\nvar defaultEventOptions = {\n  allowFunction: true,\n  maxDepth: 25\n}; // TODO: we should export a method for opening child windows here and keep track of em.\n// that way we can send postMessage to child windows as well, not just iframe\n// https://stackoverflow.com/questions/6340160/how-to-get-the-references-of-all-already-opened-child-windows\n\nexport var PostmsgTransport = /*#__PURE__*/function () {\n  function PostmsgTransport(config) {\n    _classCallCheck(this, PostmsgTransport);\n\n    this.config = config;\n    this.buffer = void 0;\n    this.handler = void 0;\n    this.connected = void 0;\n    this.buffer = [];\n    this.handler = null;\n    globalWindow.addEventListener('message', this.handleEvent.bind(this), false); // Check whether the config.page parameter has a valid value\n\n    if (config.page !== 'manager' && config.page !== 'preview') {\n      throw new Error(\"postmsg-channel: \\\"config.page\\\" cannot be \\\"\".concat(config.page, \"\\\"\"));\n    }\n  }\n\n  _createClass(PostmsgTransport, [{\n    key: \"setHandler\",\n    value: function setHandler(handler) {\n      var _this = this;\n\n      this.handler = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        handler.apply(_this, args);\n\n        if (!_this.connected && _this.getLocalFrame().length) {\n          _this.flush();\n\n          _this.connected = true;\n        }\n      };\n    }\n    /**\n     * Sends `event` to the associated window. If the window does not yet exist\n     * the event will be stored in a buffer and sent when the window exists.\n     * @param event\n     */\n\n  }, {\n    key: \"send\",\n    value: function send(event, options) {\n      var _this2 = this;\n\n      var _ref = options || {},\n          target = _ref.target,\n          allowRegExp = _ref.allowRegExp,\n          allowFunction = _ref.allowFunction,\n          allowSymbol = _ref.allowSymbol,\n          allowDate = _ref.allowDate,\n          allowUndefined = _ref.allowUndefined,\n          allowClass = _ref.allowClass,\n          maxDepth = _ref.maxDepth,\n          space = _ref.space,\n          lazyEval = _ref.lazyEval;\n\n      var eventOptions = Object.fromEntries(Object.entries({\n        allowRegExp: allowRegExp,\n        allowFunction: allowFunction,\n        allowSymbol: allowSymbol,\n        allowDate: allowDate,\n        allowUndefined: allowUndefined,\n        allowClass: allowClass,\n        maxDepth: maxDepth,\n        space: space,\n        lazyEval: lazyEval\n      }).filter(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            k = _ref3[0],\n            v = _ref3[1];\n\n        return typeof v !== 'undefined';\n      }));\n      var stringifyOptions = Object.assign({}, defaultEventOptions, global.CHANNEL_OPTIONS || {}, eventOptions); // backwards compat: convert depth to maxDepth\n\n      if (options && Number.isInteger(options.depth)) {\n        stringifyOptions.maxDepth = options.depth;\n      }\n\n      var frames = this.getFrames(target);\n      var query = qs.parse(location.search, {\n        ignoreQueryPrefix: true\n      });\n      var data = stringify({\n        key: KEY,\n        event: event,\n        refId: query.refId\n      }, stringifyOptions);\n\n      if (!frames.length) {\n        return new Promise(function (resolve, reject) {\n          _this2.buffer.push({\n            event: event,\n            resolve: resolve,\n            reject: reject\n          });\n        });\n      }\n\n      if (this.buffer.length) {\n        this.flush();\n      }\n\n      frames.forEach(function (f) {\n        try {\n          f.postMessage(data, '*');\n        } catch (e) {\n          console.error('sending over postmessage fail');\n        }\n      });\n      return Promise.resolve(null);\n    }\n  }, {\n    key: \"flush\",\n    value: function flush() {\n      var _this3 = this;\n\n      var buffer = this.buffer;\n      this.buffer = [];\n      buffer.forEach(function (item) {\n        _this3.send(item.event).then(item.resolve).catch(item.reject);\n      });\n    }\n  }, {\n    key: \"getFrames\",\n    value: function getFrames(target) {\n      if (this.config.page === 'manager') {\n        var nodes = _toConsumableArray(document.querySelectorAll('iframe[data-is-storybook][data-is-loaded]'));\n\n        var list = nodes.filter(function (e) {\n          try {\n            return !!e.contentWindow && e.dataset.isStorybook !== undefined && e.id === target;\n          } catch (er) {\n            return false;\n          }\n        }).map(function (e) {\n          return e.contentWindow;\n        });\n        return list.length ? list : this.getCurrentFrames();\n      }\n\n      if (globalWindow && globalWindow.parent && globalWindow.parent !== globalWindow) {\n        return [globalWindow.parent];\n      }\n\n      return [];\n    }\n  }, {\n    key: \"getCurrentFrames\",\n    value: function getCurrentFrames() {\n      if (this.config.page === 'manager') {\n        var list = _toConsumableArray(document.querySelectorAll('[data-is-storybook=\"true\"]'));\n\n        return list.map(function (e) {\n          return e.contentWindow;\n        });\n      }\n\n      if (globalWindow && globalWindow.parent) {\n        return [globalWindow.parent];\n      }\n\n      return [];\n    }\n  }, {\n    key: \"getLocalFrame\",\n    value: function getLocalFrame() {\n      if (this.config.page === 'manager') {\n        var list = _toConsumableArray(document.querySelectorAll('#storybook-preview-iframe'));\n\n        return list.map(function (e) {\n          return e.contentWindow;\n        });\n      }\n\n      if (globalWindow && globalWindow.parent) {\n        return [globalWindow.parent];\n      }\n\n      return [];\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(rawEvent) {\n      try {\n        var data = rawEvent.data;\n\n        var _ref4 = typeof data === 'string' && isJSON(data) ? parse(data, global.CHANNEL_OPTIONS || {}) : data,\n            key = _ref4.key,\n            event = _ref4.event,\n            refId = _ref4.refId;\n\n        if (key === KEY) {\n          var pageString = this.config.page === 'manager' ? \"<span style=\\\"color: #37D5D3; background: black\\\"> manager </span>\" : \"<span style=\\\"color: #1EA7FD; background: black\\\"> preview </span>\";\n          var eventString = Object.values(EVENTS).includes(event.type) ? \"<span style=\\\"color: #FF4785\\\">\".concat(event.type, \"</span>\") : \"<span style=\\\"color: #FFAE00\\\">\".concat(event.type, \"</span>\");\n\n          if (refId) {\n            event.refId = refId;\n          }\n\n          event.source = this.config.page === 'preview' ? rawEvent.origin : getEventSourceUrl(rawEvent);\n\n          if (!event.source) {\n            pretty.error(\"\".concat(pageString, \" received \").concat(eventString, \" but was unable to determine the source of the event\"));\n            return;\n          }\n\n          var message = \"\".concat(pageString, \" received \").concat(eventString, \" (\").concat(data.length, \")\");\n          pretty.debug.apply(pretty, [location.origin !== event.source ? message : \"\".concat(message, \" <span style=\\\"color: gray\\\">(on \").concat(location.origin, \" from \").concat(event.source, \")</span>\")].concat(_toConsumableArray(event.args)));\n          this.handler(event);\n        }\n      } catch (error) {\n        logger.error(error);\n      }\n    }\n  }]);\n\n  return PostmsgTransport;\n}();\n\nvar getEventSourceUrl = function getEventSourceUrl(event) {\n  var frames = _toConsumableArray(document.querySelectorAll('iframe[data-is-storybook]')); // try to find the originating iframe by matching it's contentWindow\n  // This might not be cross-origin safe\n\n\n  var _frames$filter = frames.filter(function (element) {\n    try {\n      return element.contentWindow === event.source;\n    } catch (err) {// continue\n    }\n\n    var src = element.getAttribute('src');\n    var origin;\n\n    try {\n      var _URL = new URL(src, document.location);\n\n      origin = _URL.origin;\n    } catch (err) {\n      return false;\n    }\n\n    return origin === event.origin;\n  }),\n      _frames$filter2 = _toArray(_frames$filter),\n      frame = _frames$filter2[0],\n      remainder = _frames$filter2.slice(1);\n\n  if (frame && remainder.length === 0) {\n    var src = frame.getAttribute('src');\n\n    var _URL2 = new URL(src, document.location),\n        protocol = _URL2.protocol,\n        host = _URL2.host,\n        pathname = _URL2.pathname;\n\n    return \"\".concat(protocol, \"//\").concat(host).concat(pathname);\n  }\n\n  if (remainder.length > 0) {\n    // If we found multiple matches, there's going to be trouble\n    logger.error('found multiple candidates for event source');\n  } // If we found no frames of matches\n\n\n  return null;\n};\n/**\n * Creates a channel which communicates with an iframe or child window.\n */\n\n\nexport default function createChannel(_ref5) {\n  var page = _ref5.page;\n  var transport = new PostmsgTransport({\n    page: page\n  });\n  return new Channel({\n    transport: transport\n  });\n}"],
  "mappings": "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",
  "names": ["$", "iterate", "createProperty", "require", "target", "stat", "fromEntries", "iterable", "obj", "k", "v", "AS_ENTRIES", "_toArray", "arr", "_arrayWithHoles", "_iterableToArray", "_unsupportedIterableToArray", "_nonIterableRest", "_toConsumableArray", "_arrayWithoutHoles", "_nonIterableSpread", "TypeError", "iter", "Symbol", "iterator", "Array", "from", "isArray", "_arrayLikeToArray", "_slicedToArray", "i", "_iterableToArrayLimit", "o", "minLen", "n", "Object", "prototype", "toString", "call", "slice", "constructor", "name", "test", "len", "length", "arr2", "_i", "_arr", "_n", "_d", "_s", "_e", "next", "done", "push", "value", "err", "_classCallCheck", "instance", "Constructor", "_defineProperties", "target", "props", "descriptor", "enumerable", "configurable", "writable", "defineProperty", "key", "_createClass", "protoProps", "staticProps", "_ref5", "page", "transport", "PostmsgTransport", "Channel", "globalWindow", "document", "location", "KEY", "defaultEventOptions", "getEventSourceUrl", "init_esm", "global", "window", "allowFunction", "maxDepth", "config", "buffer", "handler", "connected", "addEventListener", "handleEvent", "bind", "Error", "concat", "setHandler", "_this", "_len", "arguments", "args", "_key", "apply", "getLocalFrame", "flush", "send", "event", "options", "_this2", "_ref", "allowRegExp", "allowSymbol", "allowDate", "allowUndefined", "allowClass", "space", "lazyEval", "eventOptions", "fromEntries", "entries", "filter", "_ref2", "_ref3", "k", "v", "stringifyOptions", "assign", "CHANNEL_OPTIONS", "Number", "isInteger", "depth", "frames", "getFrames", "query", "qs", "parse", "search", "ignoreQueryPrefix", "data", "stringify", "refId", "Promise", "resolve", "reject", "forEach", "f", "postMessage", "e", "console", "error", "_this3", "item", "then", "catch", "nodes", "querySelectorAll", "list", "contentWindow", "dataset", "isStorybook", "undefined", "id", "er", "map", "getCurrentFrames", "parent", "rawEvent", "_ref4", "isJSON", "pageString", "eventString", "values", "EVENTS", "includes", "type", "source", "origin", "pretty", "message", "debug", "logger", "_frames$filter", "element", "src", "getAttribute", "_URL", "URL", "_frames$filter2", "frame", "remainder", "_URL2", "protocol", "host", "pathname"]
}
