{
  "version": 3,
  "sources": ["../../../../node_modules/core-js/modules/web.clear-immediate.js", "../../../../node_modules/core-js/modules/web.set-immediate.js", "../../../../node_modules/core-js/modules/web.immediate.js", "../../../../node_modules/@storybook/channels/dist/esm/index.js"],
  "sourcesContent": ["var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar clearImmediate = require('../internals/task').clear;\n\n// `clearImmediate` method\n// http://w3c.github.io/setImmediate/#si-clearImmediate\n$({ global: true, bind: true, enumerable: true, forced: global.clearImmediate !== clearImmediate }, {\n  clearImmediate: clearImmediate\n});\n", "var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar setImmediate = require('../internals/task').set;\n\n// `setImmediate` method\n// http://w3c.github.io/setImmediate/#si-setImmediate\n$({ global: true, bind: true, enumerable: true, forced: global.setImmediate !== setImmediate }, {\n  setImmediate: setImmediate\n});\n", "// TODO: Remove this module from `core-js@4` since it's split to modules listed below\nrequire('../modules/web.clear-immediate');\nrequire('../modules/web.set-immediate');\n", "import \"core-js/modules/es.object.freeze.js\";\n\nvar _templateObject;\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/web.immediate.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport deprecate from 'util-deprecate';\nimport dedent from 'ts-dedent';\n\nvar generateRandomId = function generateRandomId() {\n  // generates a random 13 character string\n  return Math.random().toString(16).slice(2);\n};\n\nexport var Channel = /*#__PURE__*/function () {\n  function Channel() {\n    var _this = this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        transport = _ref.transport,\n        _ref$async = _ref.async,\n        async = _ref$async === void 0 ? false : _ref$async;\n\n    _classCallCheck(this, Channel);\n\n    this.isAsync = void 0;\n    this.sender = generateRandomId();\n    this.events = {};\n    this.data = {};\n    this.transport = void 0;\n    this.addPeerListener = deprecate(function (eventName, listener) {\n      _this.addListener(eventName, listener);\n    }, dedent(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      channel.addPeerListener is deprecated\\n    \"]))));\n    this.isAsync = async;\n\n    if (transport) {\n      this.transport = transport;\n      this.transport.setHandler(function (event) {\n        return _this.handleEvent(event);\n      });\n    }\n  }\n\n  _createClass(Channel, [{\n    key: \"hasTransport\",\n    get: function get() {\n      return !!this.transport;\n    }\n  }, {\n    key: \"addListener\",\n    value: function addListener(eventName, listener) {\n      this.events[eventName] = this.events[eventName] || [];\n      this.events[eventName].push(listener);\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(eventName) {\n      var _this2 = this;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var event = {\n        type: eventName,\n        args: args,\n        from: this.sender\n      };\n      var options = {};\n\n      if (args.length >= 1 && args[0] && args[0].options) {\n        options = args[0].options;\n      }\n\n      var handler = function handler() {\n        if (_this2.transport) {\n          _this2.transport.send(event, options);\n        }\n\n        _this2.handleEvent(event);\n      };\n\n      if (this.isAsync) {\n        // todo I'm not sure how to test this\n        setImmediate(handler);\n      } else {\n        handler();\n      }\n    }\n  }, {\n    key: \"last\",\n    value: function last(eventName) {\n      return this.data[eventName];\n    }\n  }, {\n    key: \"eventNames\",\n    value: function eventNames() {\n      return Object.keys(this.events);\n    }\n  }, {\n    key: \"listenerCount\",\n    value: function listenerCount(eventName) {\n      var listeners = this.listeners(eventName);\n      return listeners ? listeners.length : 0;\n    }\n  }, {\n    key: \"listeners\",\n    value: function listeners(eventName) {\n      var listeners = this.events[eventName];\n      return listeners || undefined;\n    }\n  }, {\n    key: \"once\",\n    value: function once(eventName, listener) {\n      var onceListener = this.onceListener(eventName, listener);\n      this.addListener(eventName, onceListener);\n    }\n  }, {\n    key: \"removeAllListeners\",\n    value: function removeAllListeners(eventName) {\n      if (!eventName) {\n        this.events = {};\n      } else if (this.events[eventName]) {\n        delete this.events[eventName];\n      }\n    }\n  }, {\n    key: \"removeListener\",\n    value: function removeListener(eventName, listener) {\n      var listeners = this.listeners(eventName);\n\n      if (listeners) {\n        this.events[eventName] = listeners.filter(function (l) {\n          return l !== listener;\n        });\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on(eventName, listener) {\n      this.addListener(eventName, listener);\n    }\n  }, {\n    key: \"off\",\n    value: function off(eventName, listener) {\n      this.removeListener(eventName, listener);\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      var listeners = this.listeners(event.type);\n\n      if (listeners && listeners.length) {\n        listeners.forEach(function (fn) {\n          fn.apply(event, event.args);\n        });\n      }\n\n      this.data[event.type] = event.args;\n    }\n  }, {\n    key: \"onceListener\",\n    value: function onceListener(eventName, listener) {\n      var _this3 = this;\n\n      var onceListener = function onceListener() {\n        _this3.removeListener(eventName, onceListener);\n\n        return listener.apply(void 0, arguments);\n      };\n\n      return onceListener;\n    }\n  }]);\n\n  return Channel;\n}();\nexport default Channel;"],
  "mappings": "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",
  "names": ["$", "require", "global", "clearImmediate", "clear", "bind", "enumerable", "forced", "$", "require", "global", "setImmediate", "set", "bind", "enumerable", "forced", "require", "_taggedTemplateLiteral", "strings", "raw", "slice", "Object", "freeze", "defineProperties", "value", "_classCallCheck", "instance", "Constructor", "TypeError", "_defineProperties", "target", "props", "i", "length", "descriptor", "enumerable", "configurable", "writable", "defineProperty", "key", "_createClass", "protoProps", "staticProps", "prototype", "_templateObject", "generateRandomId", "Channel", "esm_default", "init_esm", "Math", "random", "toString", "_this", "_ref", "arguments", "undefined", "transport", "_ref$async", "async", "isAsync", "sender", "events", "data", "addPeerListener", "deprecate", "eventName", "listener", "addListener", "dedent", "setHandler", "event", "handleEvent", "get", "push", "emit", "_this2", "_len", "args", "Array", "_key", "type", "from", "options", "handler", "send", "setImmediate", "last", "eventNames", "keys", "listenerCount", "listeners", "once", "onceListener", "removeAllListeners", "removeListener", "filter", "l", "on", "off", "forEach", "fn", "apply", "_this3"]
}
